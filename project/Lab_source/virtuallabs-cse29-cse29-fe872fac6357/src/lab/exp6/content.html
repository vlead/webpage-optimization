<!-- This file needs to be edited by the lab developer to suit
the requirements of their lab in particular.-->

<!-- Add class="default" to include any element as it is
specified in default.html. 
Do not include class="default" to the elements that you want to
edit -->

<!DOCTYPE html>
<html>
<head></head>
<body>

<div id="experiment"> <!-- The Experiment Document Container-->

  <!-- The lab Header contains the logo and the name of the lab,
  usually displayed on the top of the page-->

  <header id="experiment-header">
  
    <div id="experiment-header-logo" class="logo">
      <!-- Enclose the logo image of your lab or write it in 
      text-->
      <img src="../images/logo.jpg" />
    </div>

    <div id="experiment-header-heading" class="heading">
      <!-- Write the name of your lab and link it to the home 
      page of your lab (h1 tag is preferred while writing your 
      lab name)-->
      <a href="../index.php">Cryptography Lab</a>	
    </div>

    <!-- Add any additional element you want to add to the lab 
    header, For example : Help (Enclosing them with suitable 
    div is recommended)-->

  </header>


  <!-- The lab article is the main content area where all the 
  experiment content sits-->
  <article id="experiment-article">
  
    <!-- The lab article has an header, optional navigational 
    menu, number of sections, an optional sidebar and a closing 
    footer-->
     <div id="experiment-article-breadcrumb" class="breadcrumb">
     </div>
    
      <header id="experiment-article-heading" class="heading">
        <!-- You can add a welcome message or title of the 
        experiment here -->
        Cryptographic Hash Functions and Applications(HMAC)
        <!-- Add any additional element if required with proper 
        enclosing-->
      </header>

      <!-- Navigation menu is useful to organize the view of 
      multiple sections inside the article-->
      <nav id="experiment-article-navigation" class="default">
        <ul id="experiment-article-navigation-menu">
          <!-- The menu can be dynamically generated to contain 
          the headings of your sections or instead write the 
          menu items of your choice individually enclosedu in 
          <li> tag as shown below-->
        </ul>
      </nav>

      <!-- All the sections of your lab or experiment can be 
      enclosed together with a div element as shown below-->
      <div id="experiment-article-sections">

        <!-- First section of the article-->
        <section id="experiment-article-section-1">
          
          <div id="experiment-article-section-1-icon" 
          class="icon">
	    <!-- Enclose the icon image of your lab -->
	    <img src="../images/introduction.jpg" />
	  </div>	
          
          <!-- The heading for the section can be enclosed in a 
          div tag. -->
          <div id="experiment-article-section-1-heading" 
          class="heading">
            Introduction
          </div>

          <!-- Write the section content inside a paragraph 
          element, You can also include images with <img> tag -->
          <div id="experiment-article-section-1-content" 
          class="content">	
          
                    <p>SHA-1 is a popular heuristic hash function that is currently in vogue.&nbsp;  In
			this experiment, we shall familiarize ourselves with SHA-1 as well as
			look at one important applaication of hashing, namely, the HMAC
			algorithm which is currently used in the Internet to achieve data
			integrity
		    </p>

          
        </div>


      </section>

      <!-- Second section of the article-->
      <section id="experiment-article-section-2">
        
        <div id="experiment-article-section-2-icon" 
        class="icon">
	  <!-- Enclose the icon image of your lab. -->
	  <img src="../images/theory.jpg" />
	</div>
				
        <!-- The heading for the section can be enclosed in a 
        div tag. -->
        <div id="experiment-article-section-2-heading" 
        class="heading">
          Theory
        </div>


        <!-- Write the section content inside a paragraph 
        element, we can also include images with <img> tag -->
        <div id="experiment-article-section-2-content" 
        class="content">
          <p>
		For a very brief overview of the Merkle-Damgard transform and the
		design of HMAC from fixed length collision resistant hash function,
		click <a href="media/Collision%20Resistant%20Hash%20Functions.pdf">here</a><br><br>
		<a href="media/Collision Resistant Hash Functions.pdf"><img src="../images/image6.png" alt="here"/></a><br>
		In our experiments, instead of using a full-fledged collsion resistant
		hash function h, we have replaced it with a "dummy" function h. You are
		asked to assume collision resistance about the given function h and use
		it to design HMAC<br>
	  </p>
        </div>
      </section>


      <section id="experiment-article-section-3">
        
        <div id="experiment-article-section-3-icon" 
        class="icon">
	  <!-- Enclose the icon image of your lab. -->
	  <img src="../images/objective.jpg" />
	</div>
     
        <div id="experiment-article-section-3-heading" 
        class="heading">
          Objective
        </div>

        <div id="experiment-article-section-3-content" 
        class="content">
          <p>
           To understand the need,design and applications of collision resistant hash functions.
          </p> 
         </div>

      </section>


      <section id="experiment-article-section-4">

        <div id="experiment-article-section-4-icon" 
        class="icon">
	  <!-- Enclose the icon image of your lab.-->
	  <img src="../images/simulation.jpg" />
	</div>

        <div id="experiment-article-section-4-heading" 
        class="heading">
          Experiment 
        </div>

        <div id="experiment-article-section-4-content" 
        class="content">

          <h1 style="text-align: center; text-decoration: underline;">A simulator for SHA-1</h1>

 <p>Plaintext (string): </p><p><input name="user_input" value="test" id="input" size="40" type="text"> </p>
<p><input onclick="document.getElementById('hash_value').value = hex_sha1(document.getElementById('input').value)" value="SHA-1" type="button"></p><br>

<p>Hash output(hex):</p><p> <input id="hash_value" value="" size="40" readonly="true" type="text"></p><br>
<br>
<br>
<h1 style="text-align: center; font-weight: bold; text-decoration: underline;">HMAC Construction using a "Dummy" Hash Function<br>
</h1>
<br>

        	   
         		<h2>HMAC construction</h2>
			
<pre>   Plaintext: <textarea name="plaintext" cols="50" rows="4" id="plaintext">1100000000111100101010</textarea>   <input name="changePlainText" value="Next Plaintext" onclick="next_plain_text()" type="button"> <br>
length of Initialization Vector (IV), l, <textarea name="l" cols="4" rows="1" id="l">8</textarea> <br>
          IV: <textarea name="iv" cols="50" rows="1" id="iv">11001100</textarea>   <input name="changeIV" value="Next IV" onclick="next_IV()" type="button"><br><br><br>
      Key, k: <textarea name="key" cols="50" rows="1" id="key">10000101</textarea>   <input name="changeKey" value="Next Key" onclick="next_Key()" type="button"><br><br><br>
ipad: 0x5C (01011100)
opad: 0x36 (00110110) <br>
Put your text of size 2l to get the corresponding value of hash of size l.<br>
   Your text: <textarea name="usertext" cols="50" rows="1" id="usertext">11001010</textarea>   <input name="getHash" value="get hash" onclick="get_hash()" type="button">
Hashed value: <textarea name="hashvalue" cols="50" rows="1" readonly="readonly" id="hashvalue">0011</textarea><br><br>
Final Output: <textarea name="output" cols="50" rows="1" id="cipherarea"></textarea>  <input name="checkAnswer" value="Check Answer!" onclick="checkAnswer()" type="button">
<div id="notification" style="width: 300px; height: 10px; padding-top: 20px;"></div>
</pre>
        </div>

      </section>

      <section id="experiment-article-section-5">
   
        <div id="experiment-article-section-5-icon" 
        class="icon">
	  <!-- Enclose the icon image of your lab.-->
	  <img src="../images/manual.jpg" />
	</div>

        <div id="experiment-article-section-5-heading" 
        class="heading">
          Manual
        </div>

        <div id="experiment-article-section-5-content" 
        class="content">
	<ol>
		<li>Familiarize yourself with the working of SHA-1. Though we would be
using a dummy hash in the sequel for simplicity, in general, you could
be using SHA-1 instead</li>
         <li>Select a plaintext for which the HMAC tag is to be computed.(by clicking on NextPalintext Button)</li>
	 <li>For simplicity fix l=8 which is default,but it should be l &lt; (length of plaintext)/4.</li>
         <li>Select an Initialization Vector, IV of length l.by clicking on "Next IV" button)</li>
	 <li>Use the ipad and opad as described in theory part to compute the ciphertext with the help of the hash function provided to you.</li>
	 <li>Divide generated plaintext 'm' into say 'k' chunks of 8 bits and kth chunk will have bits less than 8,to make it 8-bits by padding zeros at end</li> 
	 <li>Compute z0="IV||(k XOR ipad)" manually where || impies concatenation and enter z0 in "Your text" field to get z1</li>
	 <li>Compute z1="z0||m1" manually where || impies concatenation and enter z1 in "Your text" field to get z2</li>
	 <li>Repeat above step and finally compute z(k+1)="zk||L" where L=|m|,make L 8-bits by padding zeros to left of it</li>
	 <li>Compute p="IV||(k XOR opad)" manually where || impies concatenation and enter p in "Your text" field to get q</li>
	 <li>Compute r="q||z(k+1)" manually where || impies concatenation and enter 'r' in "Your text" field to get final HMAC tag 't'</li>
	 <li>Notice that z0,z1,z2,.............zk,z(k+1),p,r are all of size '2l'(=16 in our case as l=8).</li>                             		 <li>Write the final cipher text 't' in 'Final Output' field and check your answer</li>
	
	</ol>
                        

          </div>

        </section>

        <section id="experiment-article-section-6">
      
          <div id="experiment-article-section-6-icon" 
          class="icon">
	    <!-- Enclose the icon image of your lab.-->
	    <img src="../images/quizzes.jpg" />
	  </div>

          <div id="experiment-article-section-6-heading" 
          class="heading">
            Quizzes
          </div>
		
		<div id="experiment-article-section-6-content" 
			  class="content">
	<ol>		<li><p>Which criterion ensures that we can’t find two messages that hash to the same digest?</p>
		<ol class="d" >
		  <li><input name="quest_590" type="radio" value="One-wayness" />One-wayness</li>
		  <li><input name="quest_590" type="radio" value="Weak-collision-resistance" />Weak-collision-resistance</li>
		  <li><input name="quest_590" type="radio" value="Strong-collision-resistance " />Strong-collision-resistance </li>
		  <li><input name="quest_590" type="radio" value="None" />None</li>
		</ol></li>


			<li><p>Which criterion Ensures that it must be extremely difficult or impossible to create the message if the message digest is given.</p>
		<ol class="d">
		  <li><input name="quest_591" type="radio" value="One-wayness" />One-wayness</li>
		  <li><input name="quest_591" type="radio" value="Weak-collision-resistance" />Weak-collision-resistance</li>
		  <li><input name="quest_591" type="radio" value="Strong-collision resistance" />Strong-collision resistance</li>
		  <li><input name="quest_591" type="radio" value="None" />None</li>
		</ol></li>
		
				<li><p>Consider the function h: {0,1}<sup>8</sup> -&gt; {0,1}<sup>4</sup>. Suppose h(x) = x <sup>xmod 5</sup> mod 16, x in [0, 255]. The collision in h occurs for.</p>
		<ol class="d">
		  <li><input name="quest_594" type="radio" value="(1, 17)" />(1, 17)</li>
		  <li><input name="quest_594" type="radio" value="(2, 16)" />(2, 16)</li>
		  <li><input name="quest_594" type="radio" value="(1, 16)" />(1, 16)</li>
		  <li><input name="quest_594" type="radio" value="(2, 17)" />(2, 17)</li>
		</ol></li>

				<li><p>The Merkle-Damgard Transform is mainly useful for</p>
		<ol class="d">
		  <li><input name="quest_582" type="radio" value="Converting any fixed-length collision resistant hash function to an arbitrary length collision resistant hash function " />Converting any fixed-length collision resistant hash function to an arbitrary length collision resistant hash function </li>
		  <li><input name="quest_582" type="radio" value="Converting arbitrary length hash function to a fixed length hash function " />Converting arbitrary length hash function to a fixed length hash function </li>
		  <li><input name="quest_582" type="radio" value="Constructing hash function from random function " />Constructing hash function from random function </li>
		  <li><input name="quest_582" type="radio" value="None" />None</li>
		</ol></li>
			    
			   
				<li>Understand HMAC scheme and find a break it using availble source code</li>
				<li>Understand Merkel-Damgard transform and Explain,how we are using it for HMAC? </li>
				<li>Understand and explain analogy between SHA1 and our dummy HMAC function</li> 
				<li>Explain why HMAC is secure and on what assumptions this security is based?</li>
			
		</ol>	
		
              
              </div>
           </section>

        <section id="experiment-article-section-7">
	  
          <div id="experiment-article-section-7-icon" 
          class="icon">
	    <!-- Enclose the icon image of your lab. -->
	    <img src="../images/procedure.jpg" />
	  </div>
	
          <div id="experiment-article-section-7-heading" 
          class="heading">
	    Procedure
	  </div>
	
          <div id="experiment-article-section-7-content" 
          class="content">
	    <p>
	      For </b>Procedure</b> of the experiment refer <b>Theory</b> and <b>Manual</b>.
	    </p>
	  </div>
	
        </section>
			
		
        <section id="experiment-article-section-8">
   
          <div id="experiment-article-section-8-icon" 
          class="icon">
	    <!-- Enclose the icon image of your lab.-->
	    <img src="../images/readings.jpg" />
	  </div>

          <div id="experiment-article-section-8-heading" 
          class="heading">
            Further Readings
          </div>

          <div id="experiment-article-section-8-content" 
          class="content">
            <ul>	
              <li>
               <a href=http://en.wikipedia.org/wiki/HMAC>Wikipedia</a>
              </li>
              <li>
                <a href=http://www.cs.berkeley.edu/~luca/cs276/lecture09.pdf>Notes on HMAC</a>
              </li> 
              <li>
               Introduction to Modern Cryptography by Jonathan Katz and Yehuda Lindell.
              </li> 
            </ul>
          </div>

        </section>

	

      </div>


    <!-- An article can have a sidebar that contain related 
    links and additional material (however it is kept optional 
    at this moment) -->
    <aside id="lab-article-sidebar" class="default">
      <!-- put the content that you want to appear in the 
      sidebar -->	
    </aside>


    <!-- Article footer can display related content and 
    additional links -->						
    <footer id="lab-article-footer" class="default">
      <!-- Put the content that you want to appear here -->
    </footer>

  </article>


  <!-- Links to other labs, about us page can be kept the lab 
  footer-->
 <footer id="lab-footer" class="footer">
   <!-- Put the content here-->
<a href="http://virtual-labs.ac.in/nmeict/" >Sponsored by MHRD (NME-ICT) </a> | <a href="http://virtual-labs.ac.in/licensing/" target="_blank"> Licensing Terms </a>
</footer>
</div>		

</body>
</html>
